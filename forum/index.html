<!DOCTYPE html>
<html>
<head>
	<title>Forum</title>
	<script type="text/javascript" src="crystalline.js"></script>
	<script type="text/javascript">
		Crystalline.init("topicList", []);
		Crystalline.bind("#topic_list", "topicList");
		Crystalline.format("topicList", {
			title: {display: "Title", template: {tag: "a", class: "topicLink", href: "post_{{postID}}"}},
			poster: {display: "Poster", template: {tag: "a", class: "posterLink", href: "poster_{{posterID}}"}},
			replies: {display: "Replies"},
			postDate: {display: "Posted"},
			postID: {display: ""},
			posterID: {display: ""}
		});
		const httpClient = new Crystalline.http();

		httpClient.get("topic_list").then(function(data)
		{
			console.log(data.body);
			Crystalline.set("topicList", JSON.parse(data.body));
			Crystalline.data.topicList.unshift({title: "", replies: "", poster: "", postDate: ""});
		})
		.catch(function(err)
		{
			console.log(err);
		});

	</script>
	<style type="text/css">
		*{
			margin: 0px;
			padding: 0px;
			font-family: "Arial";
		}
		#wrapper
		{
			width: 100%;
			height: 100vh;
			display: flex;
			justify-content: center;
			text-align: center;
		}
		#topic_list table
		{
			width: 50vw;
			background-color: #aaa;
		}
		#topic_list td
		{
			padding: 3px;
			background-color: #fefeff;
		}
		#topic_list th
		{
			padding: 3px;
			border-bottom: 2px solid #aaa;
			background-color: #cccfff;
		}
	</style>
</head>
<body>
<div id="wrapper">
	<div>
		<h2>Topics</h2>
		<div id="topic_list"></div>
	</div>
</div>
</body>
</html>